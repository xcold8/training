<!DOCTYPE html>
<html>
<title>Music Player</title>
<body>
<div id="main">
	<h1>Miko Player</h1>
<script src="jquery.min.js"></script>
	<div class="songlist">
		<ul class = slist>
		
		</ul>
	</div>
	    <div id="player"></div>

		    <script>
 			

		      // 2. This code loads the IFrame Player API code asynchronously.
		      var tag = document.createElement('script');

		      tag.src = "https://www.youtube.com/iframe_api";
		      var firstScriptTag = document.getElementsByTagName('script')[0];
		      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

		      // 3. This function creates an <iframe> (and YouTube player)
		      //    after the API code downloads.
		      var player;
		      function onYouTubeIframeAPIReady() {
		        player = new YT.Player('player', {
		          height: '390',
		          width: '640',
		          videoId: 'RMN4Om013k8',
		          events: {
		            'onReady': onPlayerReady,
		            'onStateChange': onPlayerStateChange
		          }
		        });
		      }

		      // 4. The API will call this function when the video player is ready.
		      function onPlayerReady(event) {
		        event.target.playVideo();
		      }

		      // 5. The API calls this function when the player's state changes.
		      //    The function indicates that when playing a video (state=1),
		      //    the player should play for six seconds and then stop.
		      var done = false;
		      function onPlayerStateChange(event) {
		        if (event.data == YT.PlayerState.PLAYING && !done) {
		          setTimeout(stopVideo, 6000);
		          done = true;
		        }
		      }
		      function stopVideo() {
		        player.stopVideo();
		      }
		     
		      	$(document).ready(function(){
		   		 var track = [{"title":"one","ytid":"sOnqjkJTMaA"},{"title":"two","ytid":"bn1ycNxQMvk"},{"title":"three","ytid":"yo4pmauhugo"}];
		   		 for (var i=0; i < track.length; i++){
		    		var tdata = track[i];
		    		console.log(tdata.ytid);
		    		$('#main .songlist ul.slist').append('<li ytid="'+ tdata.ytid +'">'+ tdata.title + '</li>');
		    	 }

		    		$('#main .songlist ul.slist li').click(function(){
		      		var songid = $(this).attr('ytid');
		      		player.loadVideoById(songid, 5, "small");
		      	 });
		    	
		 		});
		    
    </script>	



	</div>
</div>
</body>
</html>